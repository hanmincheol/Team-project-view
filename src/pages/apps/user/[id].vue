<script setup>
import ShareProjectDialogTemp from '@/components/dialogs/ChallengeInviteModal.vue';
import chat from '@/pages/apps/challengeChat.vue';
import { useUserListStore } from '@/views/apps/user/useUserListStore';
import UserProfileForChellenge from '@/views/apps/user/view/UserProfileForChellenge.vue';
import ChallengeRatio from '@/views/charts/apex-chart/ChallengeRatio.vue';
import AppDateTimePicker from '@core/components/app-form-elements/AppDateTimePicker.vue';
import { getBarChartConfig } from '@core/libs/apex-chart/apexCharConfig'; //Ï∞®Ìä∏ Î∂àÎü¨Ïò§Í∏∞
import { useTheme } from 'vuetify'; //Ï∞®Ìä∏ Î∂àÎü¨Ïò§Í∏∞

const isShareProjectDialogVisible = ref(false)
const userListStore = useUserListStore()
const route = useRoute() //routeÍ∞ùÏ≤¥
const userData = ref()
const userTab = ref(null)

//Ï∞®Ìä∏ Î∂àÎü¨Ïò§Í∏∞ Ïö©

const vuetifyTheme = useTheme()

const horizontalBarChartConfig = computed(() => getBarChartConfig(vuetifyTheme.current.value))
console.log('test:',vuetifyTheme.current.value);
const series = [{ data: [200] }]

//Ï∞®Ìä∏ Î∂àÎü¨Ïò§Í∏∞ Ïö© end

userListStore.fetchUser(Number(route.params.id)).then(response => {
  userData.value = response.data
})

</script>
<template>
  <div>
    <VRow>
      <VCol cols="12" md="7" class="match-height"> <!--Ï†ÑÏ≤¥ ÌôîÎ©¥Ïùò ÏôºÏ™Ω-->
        <VCard >
          <VRow> <!--Ï±åÎ¶∞ÏßÄ Ï∞∏Ïó¨Ïù∏Ïõê Ï†ÑÏ≤¥-->
            <VRow :style="{'margin':'50px 0','width': '100%', 'display':'flex', 'justify-content': 'space-around'}"> <!--Ï∞∏Ïó¨Ïù∏Ïõê Î™©Î°ù ÏòÅÏó≠-->
              <VCol cols="3">
                <VCard > <!--ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ-->
                  <VCardItem>
                    <VCardTitle>
                      <UserProfileForChellenge :user-data="userData" />
                    </VCardTitle>
                  </VCardItem>
                </VCard>
              </VCol>
              <VCol cols="3">
                <VCard > <!--ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ-->
                  <VCardItem>
                    <VCardTitle>
                      <UserProfileForChellenge :user-data="userData" />
                    </VCardTitle>
                  </VCardItem>
                </VCard>
              </VCol>
              <VCol cols="3">
                <VCard > <!--ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ-->
                  <VCardItem>
                    <VCardTitle>
                      <UserProfileForChellenge :user-data="userData" />
                    </VCardTitle>
                  </VCardItem>
                </VCard>
              </VCol>
              <VCol cols="3">
                <VCard > <!--ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ-->
                  <VCardItem>
                    <VCardTitle>
                      <UserProfileForChellenge :user-data="userData" />
                    </VCardTitle>
                  </VCardItem>
                </VCard>
              </VCol>
            </VRow>
            <VRow :style="{'margin':'auto 0','margin-bottom':'60px', 'width': '100%', 'display':'flex', 'justify-content': 'space-around'}"> <!--Ï∞∏Ïó¨Ïù∏Ïõê Î™©Î°ù ÏòÅÏó≠-->
              <VCol cols="3">
                <VCard > <!--ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ-->
                  <VCardItem>
                    <VCardTitle>
                      <UserProfileForChellenge :user-data="userData" />
                    </VCardTitle>
                  </VCardItem>
                </VCard>
              </VCol>
              <VCol cols="3">
                <VCard > <!--ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ-->
                  <VCardItem>
                    <VCardTitle>
                      <UserProfileForChellenge :user-data="userData" />
                    </VCardTitle>
                  </VCardItem>
                </VCard>
              </VCol>
              <VCol cols="3">
                <VCard > <!--ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ-->
                  <VCardItem>
                    <VCardTitle>
                      <UserProfileForChellenge :user-data="userData" />
                    </VCardTitle>
                  </VCardItem>
                </VCard>
              </VCol>
              <VCol cols="3">
                <VCard > <!--ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ-->
                  <VCardItem>
                    <VCardTitle>
                      <UserProfileForChellenge :user-data="userData" />
                    </VCardTitle>
                  </VCardItem>
                </VCard>
              </VCol>
            </VRow> <!--Ï∞∏Ïó¨Ïù∏Ïõê Î™©Î°ù ÏòÅÏó≠ end-->
          </VRow> <!--Ï±åÎ¶∞ÏßÄ Ï∞∏Ïó¨Ïù∏Ïõê Ï†ÑÏ≤¥ end-->
           <!--ÎåìÍ∏Ä ÏòÅÏó≠-->
          <!-- <VCol class="match-height" :style="{'margin-top':'50px'}">
            <chat />
          </VCol> -->
        </VCard>
        <v-card :style="{'margin-top':'30px'}">
          <chat />
        </v-card>
      </VCol> <!--Ï†ÑÏ≤¥ ÌôîÎ©¥Ïùò ÏôºÏ™Ω end-->
      
      <VCol cols="12" md="5" class="match-height"> <!--Ï†ÑÏ≤¥ ÌôîÎ©¥Ïùò Ïò§Î•∏Ï™Ω-->
        <VCard :style="{'padding-bottom':'35px'}">
          <VRow :style="{'display':'flex', 'justify-content': 'space-around'}"> <!--Î™©ÌëúÍ¥ÄÎ†® Ï†ïÎ≥¥-->
            <VCard :style="{'width':'90%', 'margin-top':'50px'}">
              <VCardItem class="d-flex flex-wrap justify-space-between gap-4">
                <VCardText><h6 class="text-h6">üìå Ïö¥ÎèôÎüâ 80% Îã¨ÏÑ±ÌïòÍ∏∞</h6></VCardText>
                <hr :style="{'width':'500px'}" />
                <template #append>
                  <div class="date-picker-wrapper" :style="{'padding-bottom':'50px', 'padding-top':'10px'}">
                    ÏãúÏûëÎÇ†Ïßú
                    <AppDateTimePicker
                      model-value="2022-06-09"
                      prepend-inner-icon="mdi-calendar-blank-outline"
                      density="compact"
                      :config="{ position: 'auto right' }"
                      :style="{'width':'300px', 'padding-top':'10px'}"
                    />
                  </div>
                  <div class="date-picker-wrapper" :style="{'padding-bottom':'50px'}">
                    Ï¢ÖÎ£åÎÇ†Ïßú
                    <AppDateTimePicker
                      model-value="2022-06-09"
                      prepend-inner-icon="mdi-calendar-blank-outline"
                      density="compact"
                      :config="{ position: 'auto right' }"
                      :style="{'width':'300px', 'padding-top':'10px'}"
                    />
                  </div>
                </template>
              </VCardItem>
            </VCard>
            <VCard :style="{'width':'90%', 'margin-top':'50px'}"> <!--Í∑∏ÎûòÌîÑ-->
              <!-- <VueApexCharts
                    type="bar"
                    height="200"
                    :options="horizontalBarChartConfig"
                    :series="series"
                  /> -->
              <ChallengeRatio/>
            </VCard> <!--Í∑∏ÎûòÌîÑ end-->
          </VRow> <!--Î™©ÌëúÍ¥ÄÎ†® Ï†ïÎ≥¥ end-->
          <VRow :style="{'display':'flex', 'justify-content': 'space-around'}"> <!--Í≤ΩÍ≥†Ï∞Ω-->
            <VCard :style="{'width':'90%', 'margin-top':'42px'}">
              <VRow :style="{'padding':'5px', 'margin-top':'5px', 'margin-left':'5px'}">
                <VCardText class="float-left"><h3>Ï∞∏Ïó¨ÎπÑ 10000Ïõê</h3></VCardText>
              </VRow>
                <VCardText>‚ö†Ô∏è Ï±åÎ¶∞ÏßÄ ÌïòÎ£® Ï†Ñ ÏûêÎèô Í≤∞Ï†úÎê©ÎãàÎã§</VCardText>
            </VCard>
          </VRow> <!--Í≤ΩÍ≥†Ï∞Ω end-->
          <VRow> <!--Î≤ÑÌäº-->
            <div :style="{'margin-top':'42px','display':'flex', 'width':'90%', 'justify-content':'flex-end'}">
              <VBtn @click="isShareProjectDialogVisible = !isShareProjectDialogVisible">Invite</VBtn>
              <ShareProjectDialogTemp v-model:isDialogVisible="isShareProjectDialogVisible"/>
              <VBtn :style="{'margin-left':'10px'}">Exit</VBtn>
            </div>
          </VRow> <!--Î≤ÑÌäº end-->
        </VCard>
      </VCol><!--Ï†ÑÏ≤¥ ÌôîÎ©¥Ïùò Ïò§Î•∏Ï™Ω end-->
    </VRow>
  </div>
</template>

<style lang="scss">
  .card-list {
    --v-card-list-gap: 0.75rem;
  }
</style>